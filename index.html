<!-- Force redeploy -->

<script>
  async function loadProducts() {
    const url = "https://script.google.com/macros/s/AKfycby3NWXTHK9BWImCl0FMJQoU7mYRnF7a0xeCFn7QfCTmafUCNhM1RcjRM9EEAhM7ABjq/exec";  // GASのURLを設定
    const response = await fetch(url);
    const products = await response.json();
    
    let container = document.getElementById("productContainer");
    container.innerHTML = "";

    products.forEach((product, index) => {
        let div = document.createElement("div");
        div.classList.add("product");
        div.innerHTML = `
            <img src="${product.image}" alt="${product.name}">
            <h4>${product.name}</h4>
            <div class="size-quantity">
                <select id="size${index}" name="size${index}" onchange="validateQuantity(${index})">
                    <option value="">--サイズ--</option>
                    ${product.sizes.map(size => `<option value="${size}">${size}</option>`).join("")}
                </select>
                <label for="quantity${index}">数：</label>
                <select id="quantity${index}" name="quantity${index}" class="quantity-select" disabled>
                    <option value="">--</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                </select>
            </div>
        `;
        container.appendChild(div);
    });
  }

  document.addEventListener("DOMContentLoaded", loadProducts);
</script>
